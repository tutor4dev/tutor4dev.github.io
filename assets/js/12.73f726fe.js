(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{163:function(s,t,a){"use strict";a.r(t);var e=a(1),n=Object(e.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",[s._v("เขียน JavaScript แบบ OOP บน ECMAScript 6")]),s._v(" "),a("p",[s._v("ESMAScript 6 นั้นเป็นมาตรฐานที่มีมาซักระยะนึงแล้วก็จริง แต่การออก Released 4.x.x ของ Node.js นั้นก็ถือเป็นจุดเปลี่ยนที่สำคัญ เพราะทำให้เราสามารถใช้งาน Feature ของ ECMAScript 6 แบบ Out-of-the-Box โดยไม่ต้องพึ่งพาตัวช่วยอื่นๆ")]),s._v(" "),a("p",[s._v("ในบทความนี้ผู้เขียนจะของพูดถึง Feature ในด้าน OOP ซึ่งเป็น 1 ใน Feature ที่หลายๆ คนรอคอย เราลองมาทดสอบไปพร้อมๆ กันครับว่า การเขียน OOP ในเวอร์ชั่นของ JavaScript นั้นจะเป็นอย่างไรบ้าง")]),s._v(" "),a("h3",{attrs:{id:"ตรวจสอบเวอร์ชั่นของ-node-js"}},[s._v("ตรวจสอบเวอร์ชั่นของ Node.js")]),s._v(" "),s._m(0),s._v(" "),s._m(1),s._m(2),s._v(" "),a("h3",{attrs:{id:"ประกาศ-class"}},[s._v("ประกาศ Class")]),s._v(" "),s._m(3),s._m(4),s._v(" "),a("h3",{attrs:{id:"class-constructor"}},[s._v("Class Constructor")]),s._v(" "),s._m(5),s._m(6),s._v(" "),a("h3",{attrs:{id:"สร้าง-object"}},[s._v("สร้าง Object")]),s._v(" "),s._m(7),a("h3",{attrs:{id:"prototype-method"}},[s._v("Prototype Method")]),s._v(" "),s._m(8),s._m(9),s._v(" "),a("h3",{attrs:{id:"static-method"}},[s._v("Static Method")]),s._v(" "),s._m(10),a("p",[s._v("Person.classDescription();")]),s._v(" "),s._m(11),s._v(" "),a("h3",{attrs:{id:"getter-และ-setter"}},[s._v("Getter และ Setter")]),s._v(" "),s._m(12),s._m(13),s._v(" "),a("h3",{attrs:{id:"การ-inheritance"}},[s._v("การ Inheritance")]),s._v(" "),s._m(14),s._m(15),s._v(" "),a("h3",{attrs:{id:"บทสรุป"}},[s._v("บทสรุป")]),s._v(" "),a("p",[s._v("Feature ในเรื่อง Class และ OOP นั้นเป็น 1 ใน Feature ของ ECMAScript 6 ที่หลายๆ คนรอคอย เพราะการเขียนโปรแกรมแบบ OOP จะช่วยให้การเขียนโปรแกรมนั้นมีประสิทธิภาพเพิ่มขึ้นเยอะพอสมควรเลยทีเดียว ถึงแม้ OOP ใน ECMAScript 6 นั้น อาจจะยังไม่ได้ Strong และมี Feature ของ OOP ครบถ้วน เมื่อเทียบกับ OOP ในภาษาโปรแกรมมิ่งอื่นๆ แต่ก็ถือเป็นจุดเริ่มต้นที่ดี ที่จะทำให้เราสามารถใช้ JavaScript แบบ Pure ได้โดยไม่ต้องไปพึ่งตัวช่วยอื่นๆ เช่น "),a("a",{attrs:{href:"http://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("TypeScript"),a("OutboundLink")],1),s._v(" หรือ Transpiler อย่างเช่น "),a("a",{attrs:{href:"https://babeljs.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Babel"),a("OutboundLink")],1),s._v(" เป็นต้น")]),s._v(" "),s._m(16)])},[function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("พิมพ์คำสั่งที่ "),t("em",[this._v("Terminal")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{staticClass:"hljs"},[t("code",[this._v("\nnode --version\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("เวอร์ชั่นของ Node.js ที่รองรับ Feature ของ ECMAScript 6 คือ 4.x.x")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-js extra-class"},[a("pre",{staticClass:"hljs"},[a("code",[s._v("\n"),a("span",{staticClass:"hljs-meta"},[s._v('"use strict"')]),s._v(";\n\n"),a("span",{staticClass:"hljs-class"},[a("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("Person")]),s._v(" ")]),s._v("{\n\n}\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[t("code",[this._v('"use strict";')]),this._v(" เป็นข้อบังคับในการใช้งาน "),t("code",[this._v("class")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-js extra-class"},[a("pre",{staticClass:"hljs"},[a("code",[s._v("\n"),a("span",{staticClass:"hljs-class"},[a("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("Person")]),s._v(" ")]),s._v("{\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("constructor")]),s._v("(name = 'Anonymous') {\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name = name;\n    }\n}\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("ค่อนข้างจะเป็น Common Case ที่การสร้าง Instance หรือ Object ควรจะมี Constructor เพื่อทำการ Initialize ค่าของตัวแปรบางตัวที่มีความสำคัญ, ซึ่งใน ES6 สามารถกำหนด Default Value ได้ด้วยหากผู้ใช้ไม่ได้ทำการผ่านค่าตัวแปร")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-js extra-class"},[a("pre",{staticClass:"hljs"},[a("code",[s._v("\n"),a("span",{staticClass:"hljs-comment"},[s._v("// ใช้ค่า default")]),s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" person = "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Person();\n\n"),a("span",{staticClass:"hljs-comment"},[s._v("// ผ่านค่าตัวแปร")]),s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" person = "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Person("),a("span",{staticClass:"hljs-string"},[s._v("'John'")]),s._v(");\n")])])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-js extra-class"},[a("pre",{staticClass:"hljs"},[a("code",[s._v("\n"),a("span",{staticClass:"hljs-class"},[a("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("Person")]),s._v(" ")]),s._v("{\n    sayHello() {\n        "),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),a("span",{staticClass:"hljs-string"},[s._v("'Hello'")]),s._v(");\n    }\n\n    sayName() {\n        "),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),a("span",{staticClass:"hljs-string"},[s._v("'My name is '")]),s._v(" + "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name);\n    }\n}\n\n"),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" person = "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Person("),a("span",{staticClass:"hljs-string"},[s._v("'John'")]),s._v(");\nperson.sayHello();\nperson.sayName();\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("Prototype Method หลายคนอาจจะคุ้นเคยในชื่อว่า Instance Method ซึ่งก็คือ Method ที่ถูกเรียกใช้โดย Instance ของ Class นั่นเอง")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-js extra-class"},[a("pre",{staticClass:"hljs"},[a("code",[s._v("\n"),a("span",{staticClass:"hljs-class"},[a("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("Person")]),s._v(" ")]),s._v("{\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("static")]),s._v(" classDescription() {\n        "),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),a("span",{staticClass:"hljs-string"},[s._v("'This class represents any persons'")]),s._v(");\n    }\n}\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("Static Method ในบางภาษาโปรแกรมมิ่งจะเรียกว่า Class Method ซึ่งก็คือ Method ที่ถูกเรียกใช้โดยตัว Class ซึ่งการเรียกใช้ Static Method นั้น เราไม่มีความจำเป็นต้องทำการ สร้าง Instance หรือ Object ของ Class นั้นๆ")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-js extra-class"},[a("pre",{staticClass:"hljs"},[a("code",[s._v("\n"),a("span",{staticClass:"hljs-class"},[a("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("Person")]),s._v(" ")]),s._v("{\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("get")]),s._v(" getName() {\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name;\n    }\n\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("set")]),s._v(" setName(name) {\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (name) {\n            "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".name = name;\n        }\n    }\n\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("set")]),s._v(" setDetail(detail) {\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (detail) {\n            "),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" detail = detail.toString().split("),a("span",{staticClass:"hljs-string"},[s._v("';'")]),s._v(");\n            "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".age = detail["),a("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("];\n            "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".gender = detail["),a("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("];\n        }\n    }\n}\n\n"),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" person = "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Person("),a("span",{staticClass:"hljs-string"},[s._v("'John'")]),s._v(");\n"),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(person.getName);\nperson.setName = "),a("span",{staticClass:"hljs-string"},[s._v("'Peter'")]),s._v(";\nperson.setDetail = "),a("span",{staticClass:"hljs-string"},[s._v("'25;male'")]),s._v(";\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("Getter และ Setter ใน ES6 นั้นจะมีความพิศดารซักนิดหากเทียบกับภาษาโปรแกรมมิ่งตัวอื่นเพราะ แทนที่เราจะได้ Method เรากลับได้ Property ในการ Access ตัวแปร Internal ของ Instance หรือ Object แทน")]),this._v(" "),t("p",[this._v("การผ่าน Parameter กับ Setter นั้นสามารถมีได้เพียง 1 Parameter เท่านั้น หากเรามีความจำเป็นที่ต้องการใช้ Setter หลายๆ ตัวแปร เราจะต้องเลี่ยงมาใช้เทคนิค Split ค่า String แทน")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-js extra-class"},[a("pre",{staticClass:"hljs"},[a("code",[s._v("\n"),a("span",{staticClass:"hljs-class"},[a("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("Student")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("extends")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("Person")]),s._v(" ")]),s._v("{\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("constructor")]),s._v("(name, studentId) {\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("super")]),s._v("(name);\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".studentId = studentId;\n    }\n\n    sayHello() {\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("super")]),s._v(".sayHello();\n        "),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),a("span",{staticClass:"hljs-string"},[s._v("'I am a student, my ID is '")]),s._v(" + "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".studentId);\n    }\n}\n\n"),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" student = "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Student("),a("span",{staticClass:"hljs-string"},[s._v("'Tom'")]),s._v(", "),a("span",{staticClass:"hljs-number"},[s._v("12345")]),s._v(");\nstudent.sayHello();\n\n"),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(person "),a("span",{staticClass:"hljs-keyword"},[s._v("instanceof")]),s._v(" Person);\n"),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(student "),a("span",{staticClass:"hljs-keyword"},[s._v("instanceof")]),s._v(" Person);\n"),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(student "),a("span",{staticClass:"hljs-keyword"},[s._v("instanceof")]),s._v(" Student);\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("เราสามารถทำการ Inherit จาก Class ใดๆ และ ทำการ Override Method ที่ต้องการโดยการใช้ "),t("code",[this._v("super")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("Code ตัวอย่างในบทความนี้ถูกทดสอบบน Node.js 4.1.x")])])}],!1,null,null,null);t.default=n.exports}}]);